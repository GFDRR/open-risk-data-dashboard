<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="minimal-ui, width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <meta content="Open Data for Resilience Index " name="description" />
    <meta content="" name="author" />

    <base href="{{$locationProvider.$get}}" />

    <title>Open Data for Resilience Index</title>

    <!-- jQuery library -->
    <script src="bower_components/jquery/dist/jquery.min.js"></script>

    <!-- Angular components -->
    <script src="bower_components/angular/angular.min.js"></script>

    <link href="js/vendor/ng-table/ng-table.min.css" rel="stylesheet">
    <script src="js/vendor/ng-table/ng-table.min.js"></script>

    <!-- bootstrap Framework -->
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- font awesome-->
    <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->




    <link href="bower_components/animate.css/animate.min.css" rel="stylesheet">

    <!-- RODI APP -->
    <script src="bower_components/angular-cookies/angular-cookies.min.js"></script>
    <script src="js/angular/app.js"></script>
    <script src="js/angular/service.js" type="text/javascript"></script>
    <script src="js/angular/controller.js" type="text/javascript"></script>
    <script src="js/angular/controller_mainmenu.js" type="text/javascript"></script>
    <script src="js/angular/directive.js" type="text/javascript"></script>
    <!-- RODI APP -->

    <!--ADOBE typekit-->
    <!--<script src="https://use.typekit.net/yxp8fxq.js"></script>-->
    <!--<script>try{Typekit.load({ async: true });}catch(e){}</script>-->

    <!-- RODI css -->
    <link href="css/rodi_css.css" rel="stylesheet">
    <link href="css/style_map.css" rel="stylesheet">

    <!-- Guida: https://medium.com/@tweededbadger/tutorial-dynamic-data-driven-svg-map-with-angularjs-b112fdec421d -->
    <!--<script src="js/change_svg.js"></script>-->

</head>
<body ng-app="RodiApp" ng-controller="RodiCtrl">

<div class="container-fluid">


    <!-- Section HEADER - INIZIO -->
    <section id="rodi_header">

        <div class="row  ">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                    <img src="img/template/rodi_logo_new.png" alt="Risk OpenData Index" class="img-responsive pull-left" />
                </div>
                <div class="col-xs-9 col-sm-9 col-md-9 col-lg-9">

                    <mainmenu ></mainmenu>
                    <button type="button" class="navbar-toggle navbar-toggle-left-black " data-toggle="collapse" data-target="#menu-hazard" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar icon-bar-white"></span>
                        <span class="icon-bar icon-bar-white"></span>
                        <span class="icon-bar icon-bar-white"></span>
                    </button>
                    <button type="button" class="navbar-toggle navbar-toggle-right-black " data-toggle="collapse" data-target="#menu-website" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar icon-bar-white"></span>
                        <span class="icon-bar icon-bar-white"></span>
                        <span class="icon-bar icon-bar-white"></span>
                    </button>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="container">
                <div class="wrap">
                    <!--<h1>Collapsible drawers</h1>-->
                    <div class="expand active">
                        <h2>Disclaimer</h2>
                        <br><br>
                        <p class="text-justify">
                            The Global Facility for Disaster Reduction and Recovery (GFDRR) works closely with UN agencies, client governments, World Bank regional offices, and other partners and focuses on five pillars of action to further the Disaster Risk Management (DRM) agenda: Risk Identification, Risk Reduction, Preparedness, Financial Protection and Resilient Recovery.
                            GFDRR hosts the GFDRR Innovation Lab. The Innovation Lab strategy is to build partnerships and communities that utilize open data and open source technology to assist decision-making. Often, engagement in DRM projects across the globe is hindered by a lack of awareness of what data already exist, where to find it, and whether it is openly accessible.
                            This dashboard has the objective of providing an overview on the openness and accessibility of risk data worldwide with the aim of:
                        </p>
                        <ul>
                            <li>advocating for data openness and accessibility</li>
                            <li>highlighting gaps to direct investment in new risk information</li>
                            <li>facilitate the trading and access to risk related data.</li>
                        </ul>
                        <button  type="button" class="btn btn-custom" ng-click="changeview('about.html', '0')">More...</button>

                    </div>


                    <!-- start count stats -->
                    <section id="counter-stats" class="wow fadeInRight" data-wow-duration="1.4s">
                        <div class="container">
                            <div class="row">
                                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 stats">
                                    <div class="panel panel-default">
                                        <div class="panel-body">
                                            <i class="fa fa-code" aria-hidden="true"></i>
                                            <div class="counting" data-count="{{countryWithData}}">{{countryWithData}}</div>
                                            <h5>Countries with Data</h5>
                                        </div>
                                    </div>

                                </div>

                                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 stats">
                                    <div class="panel panel-default">
                                        <div class="panel-body">
                                            <i class="fa fa-check" aria-hidden="true"></i>
                                            <div class="counting" data-count="{{totalDataset}}">{{totalDataset}}</div>
                                            <h5>Total Dataset Contribute</h5>
                                        </div>
                                    </div>

                                </div>

                            </div>
                            <div class="row">

                                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 stats small">
                                    <div class="panel panel-default">
                                        <div class="panel-body">
                                            <table class="table table-responsive">
                                                <tr ng-repeat="dataclass in categoryCounters">
                                                    <td><i class="fa {{dataCategoryIcon(dataclass.category)}}" aria-hidden="true"></i></td>
                                                    <td>{{dataclass.category}}</td>
                                                    <td>{{dataclass.count}}</td>
                                                </tr>

                                            </table>
                                        </div>
                                    </div>

                                </div>

                                <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 stats small">
                                    <div class="panel panel-default">
                                        <div class="panel-body">
                                            <table class="table table-responsive">
                                                <tr ng-repeat="peril in perilCounters">
                                                    <td><i class="fa {{getPelirsIcons(peril.name)}}" aria-hidden="true"></i></td>
                                                    <td>{{peril.name}}</td>
                                                    <td>{{peril.count}}</td>
                                                </tr>


                                                <!--<tr>
                                                    <td><i class="fa {{getPelirsIcons('CF')}}" aria-hidden="true"></i></td>
                                                    <td>{{perilCounters[0].name}}</td>
                                                    <td>{{perilCounters[0].count}}</td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa {{getPelirsIcons('CY')}}" aria-hidden="true"></i></td>
                                                    <td>{{perilCounters[1].name}}</td>
                                                    <td>{{perilCounters[1].count}}</td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa {{getPelirsIcons('EQ')}}" aria-hidden="true"></i></td>
                                                    <td>{{perilCounters[2].name}}</td>
                                                    <td>{{perilCounters[2].count}}</td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa {{getPelirsIcons('LS')}}" aria-hidden="true"></i></td>
                                                    <td>{{perilCounters[3].name}}</td>
                                                    <td>{{perilCounters[3].count}}</td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa {{getPelirsIcons('RF')}}" aria-hidden="true"></i></td>
                                                    <td>{{perilCounters[4].name}}</td>
                                                    <td>{{perilCounters[4].count}}</td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa {{getPelirsIcons('TS')}}" aria-hidden="true"></i></td>
                                                    <td>{{perilCounters[5].name}}</td>
                                                    <td>{{perilCounters[5].count}}</td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa {{getPelirsIcons('VO')}}" aria-hidden="true"></i></td>
                                                    <td>{{perilCounters[6].name}}</td>
                                                    <td>{{perilCounters[6].count}}</td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa {{getPelirsIcons('WS')}}" aria-hidden="true"></i></td>
                                                    <td>{{perilCounters[7].name}}</td>
                                                    <td>{{perilCounters[7].count}}</td>
                                                </tr>-->
                                            </table>
                                        </div>
                                    </div>
                                </div>


                            </div>

                            <!-- end row -->
                        </div>
                        <!-- end container -->
                    </section>
                    <!-- end cont stats -->

                </div>

            </div>
        </div>


        <div class="row" id="top-menu">
            <br />
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <hazardmenu></hazardmenu>
            </div>
        </div>
    </section>
    <!-- Section HEADER - FINE -->



    <!-- Section MAP - INIZIO -->
    <section id="main-map">


        <div class="head_sep white horiz">

        </div>
        <!-- TAB NAVIGATION -->


        <div class="row" style="">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="nav nav-tabs" role="tablist">
                    <li class="active"><a href="#tab2" role="tab" data-toggle="tab">View Map</a></li>
                    <li ><a href="#tab1" role="tab" data-toggle="tab">View Table</a></li>

                    <!--<li><a href="#tab3" role="tab" data-toggle="tab"></a></li>-->
                </ul>
                <!-- TAB CONTENT -->
                <div class="tab-content">
                    <div class="tab-pane fade" id="tab1">
                        <browsedata></browsedata>
                    </div>
                    <div class="active tab-pane fade in" id="tab2">
                        <div class="row">

                            <div class="map_place">
                                <div svg-map></div>

                                <div class="popup_country_data {{popupClass}}" ng-style="{'top':objRodiVariable.popupY, 'left': objRodiVariable.popupX}" ng-if="objRodiVariable.bPopupCountry">
                                    <strong>Country code:</strong> {{objRodiVariable.countryID}}<br />
                                    <strong>Country description:</strong> {{objRodiVariable.countryDesc}}<br />
                                    <strong>Country index: {{objRodiVariable.valueData}}</strong>
                                </div>
                            </div>
                        </div>
                        <!--<div class="row">-->
                            <!--<div class="partner_box text-center">-->
                                <!--<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3"><img src="img/partner/logo_GFDRR.png" class="" alt="" /></div>-->
                                <!--<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 text-right"><img src="img/partner/logo_CIMA.png" class="little" alt="" /></div>-->
                                <!--<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3"><img src="img/partner/logo_DELTARES.png" class="" alt="" /></div>-->
                                <!--<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3"><img src="img/partner/logo_GEM.png" class="" alt="" /></div>-->
                            <!--</div>-->
                        <!--</div>-->

                    </div>
                </div>

                <!--</div>-->
            </div>

        </div>

    </section>
    <!-- Section MAP - FINE -->


    <!-- Section PARTNER - INIZIO -->
    <section id="news">
        <div class="container">
            <div class="row">
                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                    <div class="panel panel-default">
                        <div class="panel-body">

                            <div class="flex-container flex-col">

                                <img class="img-responsive" src="img/partner/GFDRR_Primary-Logo_BW-Shade-3-e1476203323738.jpg" alt="">
                                <a class="btn btn-custom news_title text-center btn-block" href="https://www.gfdrr.org/" target="_blank"><h5>Global Facility for Disaster Reduction and Recovery</h5> </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                    <div class="panel panel-default">
                        <div class="panel-body">
                            <div class="flex-container flex-col">
                                <img class="img-responsive" src="img/partner/logo-extended.svg" alt="">
                                <a class="btn btn-custom news_title text-center btn-block" href="https://opendri.org/" target="_blank"><h5>Open Data for Resilience Initiative</h5> </a>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                    <div class="panel panel-default">
                        <div class="panel-body">

                            <div class="flex-container flex-col">

                                <img class="img-responsive" src="img/partner/UR-full-color.png" alt="">
                                <a class="btn btn-custom news_title text-center btn-block" href="https://understandrisk.org/" target="_blank"><h5>Understanding Risk</h5></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--<div class="head_sep horiz"></div>-->
        <!--
        <div class="row">
            <div ng-repeat="new in news" class="col-xs-12 col-sm-3 col-md-3 col-lg-3 news_box" style="background-image: url({{new.img}});">
                <a href="" ng-click="changepage('news-details.html?idnews=' + new.id)">
                    <img src="img/template/box_news_empty.png" alt="" class="img-responsive" />
                    <div class="news_title">{{new.title}}</div>
                </a>
            </div>
        </div>
        -->



    </section>
    <!-- Section NWEWS - FINE -->

</div>

<!-- Section FOOTER - INIZIO -->
<rodifooter></rodifooter>
<!-- Section FOOTER - FINE -->




<!--start modal intro-->
<!-- Button trigger modal -->
<!--<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">-->
<!--Launch demo modal-->
<!--</button>-->


<!-- Include all compiled plugins (below), or include individual files as needed -->

<script>
    $('.expand').on('click',function(e){
        e.preventDefault();
        $(this).toggleClass('active');
    });
</script>
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<!--wow for animate.css-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/wow/0.1.12/wow.min.js"></script>

<script>
    $('#myModal').modal('show')
</script>

<script>
    // number count for stats, using jQuery animate

//    $('.counting').each(function() {
//
//        var $this = $(this),
//            countTo = $this.attr('data-count');
//
//        $({ countNum: $this.text()}).animate({
//                countNum: countTo
//            },
//
//            {
//
//                duration: 5000,
//                easing:'linear',
//                step: function() {
//                    $this.text(Math.floor(this.countNum));
//                },
//                complete: function() {
//                    $this.text(this.countNum);
//                    alert('finished');
//                }
//
//            });
//
//
//    });
</script>
<script>
    $(function() {
        $('progress').each(function() {
            var max = $(this).val();
            $(this).val(0).animate({ value: max }, { duration: 2000, easing: 'easeOutCirc' });
        });
    });
</script>

<!-- Modal -->
<div class="modal fade " id="myModal" >
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <!--<h5 class="modal-title" id="exampleModalLabel">Modal title</h5>-->
                <img src="img/template/rodi_logo_new.png" alt="Risk OpenData Index" style="max-width:50%;" />
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p class="text-justify">
                    The Global Facility for Disaster Reduction and Recovery (GFDRR) works closely with UN agencies, client governments, World Bank regional offices, and other partners and focuses on five pillars of action to further the Disaster Risk Management (DRM) agenda: Risk Identification, Risk Reduction, Preparedness, Financial Protection and Resilient Recovery.
                    GFDRR hosts the GFDRR Innovation Lab. The Innovation Lab strategy is to build partnerships and communities that utilize open data and open source technology to assist decision-making. Often, engagement in DRM projects across the globe is hindered by a lack of awareness of what data already exist, where to find it, and whether it is openly accessible.
                    This dashboard has the objective of providing an overview on the openness and accessibility of risk data worldwide with the aim of:
                </p>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">I Agree</button>
                <button type="button" class="btn btn-primary">more</button>
            </div>
        </div>
    </div>
</div>
<!--end modal intro-->
</body>
</html>