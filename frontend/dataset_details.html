<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="minimal-ui, width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

        <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
        <meta content="" name="description" />
        <meta content="" name="author" />

        <base href="{{$LocationProvider.$get}}" />

        <title>R.O.D.I. - Dataset List</title>

        <!-- jQuery library -->
        <script src="bower_components/jquery/dist/jquery.js"></script>

        <!-- Angular components -->
        <script src="bower_components/angular/angular.min.js"></script>

        <!-- bootstrap Framework -->
        <!-- Bootstrap -->
        <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
        <!-- font awesome-->
        <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->

        <link href="bower_components/animate.css/animate.min.css" rel="stylesheet">

        <!-- RODI APP -->
        <script src="bower_components/angular-cookies/angular-cookies.min.js"></script>
        <script src="js/angular/app.js"></script>
        <script src="js/angular/service.js" type="text/javascript"></script>
        <script src="js/angular/controller.js" type="text/javascript"></script>
        <script src="js/angular/controller_mainmenu.js" type="text/javascript"></script>
        <script src="js/angular/directive.js" type="text/javascript"></script>
        <!-- RODI APP -->

        <!-- RODI css -->
        <link href="css/rodi_css.css" rel="stylesheet">

        <!-- Tooltip init -->
        <script>
            $(function () {
                $('[data-toggle="tooltip"]').tooltip()
            })
        </script>

    </head>
    <body ng-app="RodiApp" ng-controller="RodiCtrl">

        <div class="container-fluid">

            <helpfeedbackbox></helpfeedbackbox>

            <section id="rodi_header">
                <div class="row">
                    <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2">
                        <!-- Left Banner / logo -->
                        <a href="index.html"><img src="img/template/rodi_logo.png" alt="Risk OpenData Index" class="img-responsive" /></a>

                    </div>
                </div>
            </section>

            <!-- Section MENU - INIZIO -->
            <section id="top-menu">
                <div class="row">
                    <div class="pull-right">

                        <!--<div class="col-sm-6 col-md-6 col-lg-6 hidden-xs">-->
                        <!-- Spazio vuoto -->
                        <!--</div>-->
                        <div class="col-xs-12 col-sm-2 col-md-7 col-lg-7">
                            <!--<h1 class="page_title pull-right">DATASET Details</h1>-->
                            <h1 class="page_title pull-right">
                                <span class="text-uppercase">dataset details</span>
                            </h1>

                        </div>
                        <div class="col-xs-12 col-sm-4 col-md-5 col-lg-5">
                            <mainmenu></mainmenu>
                        </div>
                    </div>

                </div>
            </section>
            <!-- Section MENU - FINE -->
            <div class="head_sep blu vert"></div>
            <hr />

            <!-- Content page -->
            <div class="row">
                <!-- Dataset details -->
                <div class="col-xs-12 col-sm-11 col-sm-offset-1 col-md-11 col-md-offset-1 col-lg-11 col-lg-offset-1 text-justify" ng-if="biddataset">

                    <div class="text-center">
                        <span class="rodi_txt_big">
                            <a href="" ng-click="setEditForm()"><i class="fa fa-pencil-square-o" aria-hidden="true" data-toggle="tooltip" title="Edit dataset" ng-if="bReviewer && !bEdit"></i></a>
                            &nbsp;&nbsp;
                            <a href="" ng-click="changepage('contribute.html?tab=1')" ng-if="bMylist && !bEdit"><i class="fa fa-history" aria-hidden="true" data-toggle="tooltip" title="Back to my dataset list"></i></a>
                            <a href="" class="btn btn-sm btn-success" ng-if="bEdit"><i class="fa fa-floppy-o" aria-hidden="true" data-toggle="tooltip" title="Save dataset"></i></a>
                            <a href="" class="btn btn-sm btn-danger" ng-if="bEdit" ng-click="closeRevision()"><i class="fa fa-times" aria-hidden="true" data-toggle="tooltip" title="Close edit mode"></i></a>
                        </span>
                    </div>

                    <br />
                    <div class="row">
                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                            <h1>A - Dataset classification</h1>
                            <br />
                            <table class="table table-responsive table-striped table-bordered table-hover">
                                <thead>
                                <th style="width:20%;">#Category</th>
                                <th>#Answer</th>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <i class="fa fa-check contribute_field_validator animated fadeIn" aria-hidden="true" ng-if="objDataset.country != '--' && bEdit"></i>
                                        <i class="fa fa-clock-o contribute_field_validator_wait animated fadeIn" aria-hidden="true" ng-if="objDataset.country == '--' && bEdit"></i>
                                        Country
                                    </td>
                                    <td>
                                        <select class="form-control" ng-model="objDataset.country" ng-if="bEdit">
                                            <option value="--" selected>-- Select --</option>
                                            <option ng-repeat="country in countryList | orderBy: 'name'" value="{{country.iso2}}">{{country.name}}</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="fa fa-check contribute_field_validator animated fadeIn" aria-hidden="true" ng-if="objDataset.keydataset.scale != '--' && bEdit"></i>
                                        <i class="fa fa-clock-o contribute_field_validator_wait animated fadeIn" aria-hidden="true" ng-if="objDataset.keydataset.scale == '--' && bEdit"></i>
                                        Scale
                                    </td>
                                    <td>
                                        <select class="form-control" ng-if="bEdit" ng-model="objDataset.keydataset.scale" ng-change="setDataCategory(objDataset.keydataset.scale)">
                                            <option value="--" selected>-- Select --</option>
                                            <option ng-repeat="scale in datasetScale | orderBy: 'name'" value="{{scale.scale.id}}">{{scale.scale.name}}</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="fa fa-check contribute_field_validator animated fadeIn" aria-hidden="true" ng-if="objDataset.keydataset.category != '--' && bEdit"></i>
                                        <i class="fa fa-clock-o contribute_field_validator_wait animated fadeIn" aria-hidden="true" ng-if="objDataset.keydataset.category == '--' && bEdit"></i>
                                        Data category
                                    </td>
                                    <td>
                                        <select class="form-control" ng-if="bEdit" ng-model="objDataset.keydataset.category" ng-change="setDatasetCategory(objDataset.keydataset.scale, objDataset.keydataset.category)">
                                            <option value="--" selected>-- Select --</option>
                                            <option ng-repeat="dsCat in dataCategory" value="{{dsCat.category.id}}">{{dsCat.category.name}}</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="fa fa-check contribute_field_validator animated fadeIn" aria-hidden="true" ng-if="objDataset.keydataset.dataset != '--' && bEdit"></i>
                                        <i class="fa fa-clock-o contribute_field_validator_wait animated fadeIn" aria-hidden="true" ng-if="objDataset.keydataset.dataset == '--' && bEdit"></i>
                                        Dataset category
                                    </td>
                                    <td>
                                        <select class="form-control" ng-if="bEdit" ng-model="objDataset.keydataset.dataset" ng-change="setDatasetDesc(objDataset.keydataset.scale, objDataset.keydataset.category,objDataset.keydataset.dataset)">
                                            <option value="--" selected>-- Select --</option>
                                            <option ng-repeat="dsname in datasetCategory" value="{{dsname.dataset.id}}">{{dsname.dataset.name}}</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="fa fa-check contribute_field_validator animated fadeIn" aria-hidden="true" ng-if="objDataset.keydataset.description != '--' && bEdit"></i>
                                        <i class="fa fa-clock-o contribute_field_validator_wait animated fadeIn" aria-hidden="true" ng-if="objDataset.keydataset.description == '--' && bEdit"></i>
                                        Dataset description
                                    </td>
                                    <td>
                                        <select class="form-control" ng-if="bEdit" ng-model="objDataset.keydataset.description" ng-disabled="objDataset.keydataset.dataset == '--'">
                                            <option value="--" selected>-- Select --</option>
                                            <option ng-repeat="ds_desc in datasetDescription" value="{{ds_desc.description.id}}">{{ds_desc.description.name}}</option>
                                        </select>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="fa fa-check contribute_field_validator animated fadeIn" aria-hidden="true" ng-if="bEdit"></i>
                                        Dataset TAGS <small ng-if="bEdit">(optional)</small>
                                    </td>
                                    <td>
                                        <span class="rodi_tag_item" ng-repeat="tagItem in selectedTags">
                                            {{tagItem}}
                                        </span>
                                        <br /><br />
                                        <span class="rodi_cb_space" ng-repeat="tag in datasetTags" ng-if="bEdit">
                                            <input type="checkbox" name="tag_{{$index}}" ng-model="selectedTags" ng-click="setTags($index)" ng-checked="checkSelected(tag)"> {{tag}}
                                        </span>
                                        <br /><br />
                                        <div class="input-group" ng-if="bEdit">
                                            <span class="input-group-btn">
                                                <button class="btn btn-info" type="button" ng-click="addTag(newTag)"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add tag</button>
                                            </span>
                                            <input type="text" class="form-control" placeholder="Add new tag" ng-model="newTag">
                                        </div><!-- /input-group -->
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" >
                            <h1>B - Questions</h1>
                            <table class="table table-responsive table-striped table-bordered table-hover">
                                <thead>
                                <th>#Questions</th>
                                <th>#Answer</th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <i class="fa fa-check contribute_field_validator animated fadeIn" aria-hidden="true" ng-if="objDataset.is_existing && bEdit"></i>
                                            <i class="fa fa-clock-o contribute_field_validator_wait animated fadeIn" aria-hidden="true" ng-if="!objDataset.is_existing && bEdit"></i>
                                            Does the data exist?
                                        </td>
                                        <td>
                                            {{objDataset.is_existing}}
                                            <select ng-model="objDataset.is_existing" class="form-control">
                                                <option value="true" ng-selected="objDataset.is_existing">YES</option>
                                                <option value="false" ng-selected="!objDataset.is_existing">NO</option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <i class="fa fa-check contribute_field_validator animated fadeIn" aria-hidden="true" ng-if="objDataset.is_digital_form && bEdit"></i>
                                            <i class="fa fa-clock-o contribute_field_validator_wait animated fadeIn" aria-hidden="true" ng-if="!objDataset.is_digital_form && bEdit"></i>
                                            Is data in digital form?
                                        </td>
                                        <td>
                                            {{objDataset.is_digital_form}}
                                            <select ng-model="objDataset.is_digital_form" class="form-control">
                                                <option value="true" ng-selected="objDataset.is_digital_form">YES</option>
                                                <option value="false" ng-selected="!objDataset.is_digital_form">NO</option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <i class="fa fa-check contribute_field_validator animated fadeIn" aria-hidden="true" ng-if="objDataset.is_avail_online && bEdit"></i>
                                            <i class="fa fa-clock-o contribute_field_validator_wait animated fadeIn" aria-hidden="true" ng-if="!objDataset.is_avail_online && bEdit"></i>
                                            Is the data available online?
                                        </td>
                                        <td>
                                            {{objDataset.is_avail_online}}
                                            <select ng-model="objDataset.is_avail_online" class="form-control">
                                                <option value="true" ng-selected="objDataset.is_avail_online">YES</option>
                                                <option value="false" ng-selected="!objDataset.is_avail_online">NO</option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td></td>
                                    </tr>



                                <tr ng-repeat="quest in questions">
                                    <td>
                                        <i class="fa fa-check contribute_field_validator animated fadeIn" aria-hidden="true" ng-if="quest.code && bEdit"></i>
                                        <i class="fa fa-clock-o contribute_field_validator_wait animated fadeIn" aria-hidden="true" ng-if="!quest.code && bEdit"></i>
                                        {{quest.desc}} (*)
                                    </td>
                                    <td class="text-center">
                                        <span class="label label-success" ng-if="objDataset[quest.code]">YES</span>
                                        <span class="label label-danger" ng-if="!objDataset[quest.code]">NO</span>
                                        <select class="form-control" ng-model="objDataset[quest.code]" ng-if="bEdit">
                                            <option value="'true'">YES</option>
                                            <option value="'false'">NO</option>
                                        </select>
                                        <!--<input type="radio" name="q_{{$index}}" value="yes" ng-model="$parent.quest.code" ng-click="saveSelection(quest.code, 'true')" ng-checked="true" > <span class="rodi_cb_space" ng-if="bEdit">Yes</span>-->
                                        <!--<input type="radio" name="q_{{$index}}" value="no" ng-model="$parent.quest.code" ng-click="saveSelection(quest.code, 'false')" ng-checked="false" > <span class="rodi_cb_space" ng-if="bEdit">No</span>-->
                                        <!--<input type="radio" value="na" ng-model="questioncode" ng-click="saveSelection(quest.code, 'na')"> <span class="rodi_cb_space">Not available</span>-->
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" >
                            <h1>C - Metadata</h1>
                            <table class="table table-responsive table-striped table-bordered table-hover">
                                <thead>
                                <th>#Info</th>
                                <th>#Link</th>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>
                                        <i class="fa fa-check contribute_field_validator animated fadeIn" aria-hidden="true" ng-if="bEdit"></i>
                                        Link of dataset data or metadata <small>(optional)</small>
                                    </td>
                                    <td>
                                        <div class="input-group" ng-if="bEdit">
                                            <span class="input-group-btn">
                                                <button class="btn btn-info" type="button" ng-click="addLink(newLink)"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add Link</button>
                                            </span>
                                            <input type="text" class="form-control" placeholder="Add new link" ng-model="newLink">
                                        </div><!-- /input-group -->
                                        <br />
                                        <ul>
                                            <li ng-repeat="link in selectedLink">{{link}}</li>
                                        </ul>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <i class="fa fa-check contribute_field_validator animated fadeIn" aria-hidden="true" ng-if="bEdit"></i>
                                        Notes
                                    </td>
                                    <td><input type="text" class="form-control" placeholder="Notes" ng-model="objDataset.notes" ng-if="bEdit"></td>
                                </tr>
                                </tbody>
                            </table>
                            <br />

                        </div>
                    </div>


                    <!-- OLD VERSION -->

                    <br>
                    <h1>Abstract</h1>
                    <span ng-if="!bEdit">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</span>
                    <input type="text" class="form-control" ng-if="bEdit" value="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.">
                    <br /><br />
                    <div class="progress">
                        <div class="progress-bar" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em; width:50%;">
                            50% open
                        </div>
                    </div>
                    <br /><br />
                    <h1>A - Dataset classification</h1>
                    <br />
                    <table class="table table-responsive table-striped table-bordered table-hover">
                        <thead>
                            <th>#Category</th>
                            <th>#Answer</th>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Data category</td>
                                <td>
                                    <span ng-if="!bEdit">Vulnerability</span>
                                    <select class="form-control" ng-if="bEdit">
                                        <option value="--">-- Select --</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>Hazard</td>
                                <td>
                                    <span ng-if="!bEdit">-</span>
                                    <select class="form-control" ng-if="bEdit">
                                        <option value="--">-- Select --</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>Dataset category</td>
                                <td>
                                    <span ng-if="!bEdit">Buildings</span>
                                    <select class="form-control" ng-if="bEdit">
                                        <option value="--">-- Select --</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>Dataset description</td>
                                <td>
                                    <span ng-if="!bEdit">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</span>
                                    <select class="form-control" ng-if="bEdit">
                                        <option value="--">-- Select --</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>Dataset resolution</td>
                                <td>10m</td>
                            </tr>
                            <tr>
                                <td>Dataset score</td>
                                <td>0.5</td>
                            </tr>
                        </tbody>
                    </table>
                    <br /><br />
                    <h1>B - Questions</h1>
                    <table class="table table-responsive table-striped table-bordered table-hover">
                        <thead>
                            <th>#Questions</th>
                            <th>#Answer</th>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Does the data exist?</td>
                                <td>
                                    <span ng-if="!bEdit">Yes</span>
                                    <div ng-if="bEdit">
                                        <input type="radio" value="yes" name="questioncode"> Yes |
                                        <input type="radio" value="no" name="questioncode"> No |
                                        <input type="radio" value="na" name="questioncode"> Not available
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>Is data in digital form?</td>
                                <td>No</td>
                            </tr>
                            <tr>
                                <td>Is the data available online?</td>
                                <td>Yes</td>
                            </tr>
                            <tr>
                                <td>...</td>
                                <td>...</td>
                            </tr>
                            <tr>
                                <td>Is the data provided on a timely and up to date basis?</td>
                                <td>Yes</td>
                            </tr>
                        </tbody>
                    </table>
                    <br /><br />
                    <h1>C - Metadata</h1>
                    <table class="table table-responsive table-striped table-bordered table-hover">
                        <thead>
                            <th>#Info</th>
                            <th>#Answer</th>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Link dataset data</td>
                                <td>
                                    <a href="https://www.riskopendata.org/" target="_blank" ng-if="!bEdit">https://www.riskopendata.org/</a>
                                    <input type="text" ng-if="bEdit" class="form-control" value="https://www.riskopendata.org/">
                                </td>
                            </tr>
                            <tr>
                                <td>Link metadata download</td>
                                <td>
                                    <a href="https://www.riskopendata.org/" target="_blank" ng-if="!bEdit">https://www.riskopendata.org/</a>
                                    <input type="text" ng-if="bEdit" class="form-control" value="https://www.riskopendata.org/">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <br /><br />
                    <h1>D - Revision details</h1>
                    <table class="table table-responsive table-striped table-bordered table-hover">
                        <thead>
                            <th>#</th>
                            <th>#Answer</th>
                        </thead>
                        <tbody>
                        <tr>
                            <td>Status</td>
                            <td>Approved</td>
                        </tr>
                        <tr>
                            <td>Date</td>
                            <td>01/06/2017</td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Error section: dataset key not set -->
                <div class="col-xs-12 col-sm-10 col-sm-offset-2 col-md-10 col-md-offset-2 col-lg-10 col-lg-offset-2 text-justify" ng-if="!biddataset">

                </div>
            </div>

        </div>
        <!--END Container fluid-->
        <section>
            <div class="footer">
                <!--<div class="space"></div>-->
                <!-- Section FOOTER - INIZIO -->
                <rodifooter></rodifooter>
                <!-- Section FOOTER - FINE -->
            </div>

        </section>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    </body>
</html>