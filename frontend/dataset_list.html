<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="minimal-ui, width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
  <meta content="" name="description" />
  <meta content="" name="author" />

  <base href="{{$LocationProvider.$get}}" />

  <title>OpenDRI Index - Datasets list</title>
  <link rel=icon href=img/template/favicon.png type="image/png">
  <link rel=icon href=img/template/favicon.ico type="image/vnd.microsoft.icon">

  <!-- jQuery library -->
  <script src="bower_components/jquery/dist/jquery.js"></script>

  <!-- Angular components -->
  <script src="bower_components/angular/angular.min.js"></script>

  <!-- Chart libraries-->
  <script src="bower_components/chart.js/dist/Chart.min.js"></script>
  <script src="bower_components/angular-chart.js/dist/angular-chart.min.js"></script>

  <link href="bower_components/ng-table/dist/ng-table.min.css" rel="stylesheet">
  <script src="bower_components/ng-table/dist/ng-table.min.js"></script>

  <!-- bootstrap Framework -->
  <!-- Bootstrap -->
  <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- font awesome-->
  <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <link href="bower_components/animate.css/animate.min.css" rel="stylesheet">

  <!-- RODI APP -->
  <script src="bower_components/angular-cookies/angular-cookies.min.js"></script>
  <script src="js/angular/app.js"></script>
  <script src="js/angular/service.js" type="text/javascript"></script>
  <script src="js/angular/controller_dataset_list.js" type="text/javascript"></script>
  <script src="js/angular/controller_mainmenu.js" type="text/javascript"></script>
  <script src="js/angular/directive.js" type="text/javascript"></script>
  <!-- RODI APP -->

  <!-- RODI css -->
  <link href="css/rodi_css.css" rel="stylesheet">
  <!--<link href="css/table_color_noheader.css" rel="stylesheet">-->
  <link href="css/table_style_20180221.css" rel="stylesheet">

  <script>
    $(function () {
      $('[data-toggle="tooltip"]').tooltip()
    })
  </script>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-80600133-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-80600133-2');
  </script>
</head>

<body ng-app="RodiApp" ng-controller="RodiCtrlDatasetList">

  <div class="container">
    <!-- Section HEADER - INIZIO -->
    <section id="rodi_header">

      <div class="row  ">
        <!--<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">-->
        <div class="col-xs-8 col-sm-3 " style="color:black;">
          <a ng-if="bHome" href="" ng-click="changeview('index.html', '0')">
            <svg class="logo_icon" aria-hidden="true" focusable="false" fill="currentColor;">
              <use xlink:href="img/logo.svg#logo_open_data_full"></use>
            </svg>
          </a>
        </div>

        <div class="col-xs-4 col-sm-9 ">
          <button type="button" class="navbar-toggle navbar-toggle-right-black " data-toggle="collapse" data-target="#menu-website"
            aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <i class="fa fa-bars"></i>
          </button>

          <mainmenu></mainmenu>
        </div>
      </div>
    </section>

    <div class="row" id="top-menu">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <!--<hazardmenu></hazardmenu>-->
        <h1 class="page_title ">{{objCountry[0].name}}</h1>
      </div>
    </div>

    <!-- Section HEADER - FINE -->

    <div class="row" id="menu-hazard">
      <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4 menu_sep_countries">
        <div class="row">
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
            <ul class="nav navbar-nav text-center">
              <li ng-repeat="hc in HazardCategory" ng-class="filterCategoryCssClass(hc.category.name)">
                <a href="" ng-class="filterCategoryCssClass(hc.category.name)" ng-click="setFilterCategoryDatasetList(hc.category.name)"
                  title="Filter by {{hc.category.name}} category datasets">
                  <i class="{{getHCIcon(hc.category.id)}} fa-2x"></i>
                  <span>{{hc.category.name}}</span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-8 col-md-8 col-lg-8">
        <div class="row">
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
            <ul class="nav navbar-nav text-center">
              <li ng-style="filterApplicabilityCssStyle(h.desc)" ng-class="filterApplicabilityCssClass(h.desc)"
                ng-repeat="h in arrayHazardList" >
                <a href="" ng-click="setFilterApplicabilityDatasetList(h.desc)" ng-if="getApplicabilityNumber(h.desc) !== 'n.a.'"
                  title="Filter by {{h.desc}} hazard datasets">
                  <i class="{{h.icon}} fa-2x"></i>
                  <span>{{h.desc}}</span>
                </a>
                <a href="" ng-if="getApplicabilityNumber(h.desc) == 'n.a.'" style="color:#e0e0e0 !important;" title="Not applicable. Hazard level classified as low or very low for this country.">
                  <i class="{{h.icon}} fa-2x" style="color:#e0e0e0; border-color:#e0e0e0;"></i>
                  <span>{{h.desc}}</span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <dl class="col-xs-12 col-md-10 col-md-offset-1 col-xs-offset-0 dataset_metrics">
        <div>
          <dt style="float:left">Score:&nbsp;</dt>
          <div class="progress" title="Average scores of all datasets considered for this location. If a dataset does not exist or has not been submitted, its score is 0.">
            <dd class="progress-bar" role="progressbar" aria-valuenow="{{score}}" aria-valuemin="0" aria-valuemax="100"
              style="width:{{score}}%;">
              {{score}}%
            </dd>
          </div>
        </div>

        <div>
          <dt>Datasets submitted:</dt>
          <dd class="odfri_black_blue"><strong>{{countryDatasets}}</strong></dd>
        </div>

        <div>
          <dt>Open data:</dt>
          <dd class="odfri_black_blue"><strong>{{countryOpenDatasets}}</strong></dd>
        </div>
      </dl>
    </div>

  <div class="row">
    <div class="col-xs-12 col-md-10 col-md-offset-1 col-xs-offset-0">
      <span style="font-size: 16px;">Show:
        <a style="text-decoration: none;" href="" ng-click="setFilterMode('submitted')" ng-class="{active: filterMode == 'submitted'}">Submitted</a>,
        <a style="text-decoration: none;" href="" ng-class="{active: filterMode == 'notsubmitted'}" ng-click="setFilterMode('notsubmitted')">Not submitted</a>,
        <a style="text-decoration: none;" href="" ng-class="{active: filterMode == 'all'}" ng-click="setFilterMode('all')">All</a>
      </span>
      <br/>

      <div class="table-responsive">
        <table ng-table="tableParams" class="table table-striped table-hover">
          <thead>
            <tr>
              <th title="Name of dataset">Dataset</th>
              <th title="10 criteria assessing the availability and ease of use of the dataset">Open data criteria</th>
            </tr>
          </thead>
          <tbody>
           <tr ng-repeat="item in datasetList | orderBy: '-score * 1' | filter: checkVisibility" ng-click="changepage(item.istance_id ? 'dataset_details.html?keyds=' + item.istance_id : 'contribute.html?ctr=' + idCountry + '&amp;ds=' +item.name)" data-score="{{item.score}}">
              <td>
                <a href="dataset_details.html?keyds={{item.istance_id}}" ng-if="item.istance_id" title="View details">{{item.name}}</a>
                <span ng-if="!item.istance_id">{{item.name}} (<a href="contribute.html?ctr={{idCountry}}&amp;ds={{item.name}}">Contribute</a>)</span>
              </td>
              <td>
                <div class="dataset_value">
                  <i class="fa fa-check-circle-o" aria-hidden="{{item.quest1}}" data-toggle="tooltip" title="{{questions[0].desc}}"></i>
                  <i class="fa fa-desktop" aria-hidden="{{item.quest2}}" data-toggle="tooltip" title="{{questions[1].desc}}"></i>
                  <i class="fa fa-cloud" aria-hidden="{{item.quest3}}" data-toggle="tooltip" title="{{questions[2].desc}}"></i>
                  <i class="fa fa-tag" aria-hidden="{{item.quest4}}" data-toggle="tooltip" title="{{questions[3].desc}}"></i>
                  <i class="fa fa-copy" aria-hidden="{{item.quest5}}" data-toggle="tooltip" title="{{questions[4].desc}}"></i>
                  <i class="fa fa-keyboard-o" aria-hidden="{{item.quest6}}" data-toggle="tooltip" title="{{questions[5].desc}}"></i>
                  <i class="fa fa-eye" aria-hidden="{{item.quest7}}" data-toggle="tooltip" title="{{questions[6].desc}}"></i>
                  <i class="fa fa-dollar" aria-hidden="{{item.quest8}}" data-toggle="tooltip" title="{{questions[7].desc}}"></i>
                  <i class="fa fa-unlock-alt" aria-hidden="{{item.quest9}}" data-toggle="tooltip" title="{{questions[8].desc}}"></i>
                  <i class="fa fa-clock-o" aria-hidden="{{item.quest10}}" data-toggle="tooltip" title="{{questions[9].desc}}"></i>
                </div>
              </td>
            </tr>

          </tbody>
        </table>
      </div>

      <div class="text-center" ng-if="bLoading"><img src="img/template/loading.gif" alt="" style="max-width:80px;" /></div>
      <div ng-if="bNoDataset" class="text-center"><br /><h3>No datasets found</h3></div>

    </div>
  </div>

</div>

<style>
.modal-backdrop
{
  z-index:0;
}
</style>

<footer class="footer">
    <rodifooter></rodifooter>
</footer>

  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

</body>

</html>
