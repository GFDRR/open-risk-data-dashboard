<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="minimal-ui, width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <meta content="" name="description" />
    <meta content="" name="author" />

    <base href="{{$locationProvider.$get}}" />

    <title>OpenDRI Index - Submit a dataset</title>
    <link rel=icon href=img/template/favicon.png type="image/png">
    <link rel=icon href=img/template/favicon.ico type="image/vnd.microsoft.icon">



    <!-- jQuery library -->
    <script src="bower_components/jquery/dist/jquery.js"></script>

    <!-- Angular components -->
    <script src="bower_components/angular/angular.min.js"></script>

    <!-- Chart libraries-->
    <script src="bower_components/chart.js/dist/Chart.min.js"></script>
    <script src="bower_components/angular-chart.js/dist/angular-chart.min.js"></script>

    <link href="bower_components/ng-table/dist/ng-table.min.css" rel="stylesheet">
    <script src="bower_components/ng-table/dist/ng-table.min.js"></script>

    <!-- bootstrap Framework -->
    <!-- Bootstrap -->
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- font awesome-->
    <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link href="bower_components/animate.css/animate.min.css" rel="stylesheet">

    <!-- RODI APP -->
    <script src="bower_components/angular-cookies/angular-cookies.min.js"></script>
    <script src="js/angular/app.js"></script>
    <script src="js/angular/service.js" type="text/javascript"></script>
    <script src="js/angular/controller.js" type="text/javascript"></script>
    <script src="js/angular/controller_mainmenu.js" type="text/javascript"></script>
    <script src="js/angular/directive.js" type="text/javascript"></script>
    <!-- RODI APP -->

    <!--ADOBE typekit-->
    <!--<script src="https://use.typekit.net/yxp8fxq.js"></script>-->
    <!--<script>try{Typekit.load({ async: true });}catch(e){}</script>-->

    <!-- RODI css -->
    <link href="css/rodi_css.css" rel="stylesheet">
    <link href="css/style_map.css" rel="stylesheet">

    <!-- Guida: https://medium.com/@tweededbadger/tutorial-dynamic-data-driven-svg-map-with-angularjs-b112fdec421d -->
    <!--<script src="js/change_svg.js"></script>-->

    <!-- Tooltip init -->
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-80600133-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-80600133-2');
    </script>


</head>
<body ng-app="RodiApp" ng-controller="RodiCtrl">


    <!-- Section HEADER - INIZIO -->
    <section id="rodi_header">
      <div class="container">
        <div class="row">
            <!--<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">-->
            <div class="col-xs-8 col-sm-3 " style="color:black;">
                <a ng-if="bHome" href="" ng-click="changeview('index.html', '0')">
                    <svg class="logo_icon" aria-hidden="true" focusable="false" fill="currentColor;">
                        <use xlink:href="img/logo.svg#logo_open_data_full"></use>
                    </svg>
                </a>
            </div>

            <div class="col-xs-4 col-sm-9 ">
                <button type="button" class="navbar-toggle navbar-toggle-right-black " data-toggle="collapse" data-target="#menu-website" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <i class="fa fa-bars"></i>
                </button>

                <mainmenu ></mainmenu>
            </div>
        </div>
      </div>
    </section>

    <div class="container">
        <div class="row" id="top-menu">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <!--<hazardmenu></hazardmenu>-->
                <h1 class="page_title ">SUBMIT A DATASET</h1>
            </div>
        </div>
    </div>

    <!-- Section HEADER - FINE -->



    <!-- Section MAP - INIZIO -->
    <section id="maincontent">
      <div class="container">

        <div class="row" ng-if="bLogin">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" >
                <!--<hr />-->
                <!-- Nav tabs -->
                <ul class="nav nav-tabs" role="tablist">
                    <li role="presentation" ng-class="{active:tab==0}"><a href="#dataset" aria-controls="dataset" role="tab" data-toggle="tab">New Dataset</a></li>
                    <li role="presentation" ng-class="{active:tab==1}"><a href="#mydataset" aria-controls="mydataset" role="tab" data-toggle="tab">My dataset</a></li>
                    <li role="presentation" ng-class="{active:tab==2}"><a href="#datasetreview" aria-controls="datasetreview" role="tab" data-toggle="tab" ng-if="userinfo.groups[0] == 'reviewer' || userinfo.groups[0] == 'admin'">Dataset review</a></li>
                    <li role="presentation" ng-class="{active:tab==3}"><a href="#profile" aria-controls="profile" role="tab" data-toggle="tab">My Profile</a></li>
                    <!--<li role="presentation" ng-class="{active:tab==4}"><a href="#feedback" aria-controls="profile" role="tab" data-toggle="tab" ng-if="userinfo.groups[0] == 'admin'">Feedback</a></li>-->
                    <li role="presentation" ng-class="{active:tab==5}"><a href="#users" aria-controls="profile" role="tab" data-toggle="tab" ng-if="userinfo.groups[0] == 'admin'">Registered users</a></li>
                    <li role="presentation" ng-class="{active:tab==6}"><a href="#update" aria-controls="profile" role="tab" data-toggle="tab" ng-if="userinfo.groups[0] == 'admin'">Scoring Update</a></li>
                </ul>

                <!-- Tab panes -->
                <div class="tab-content rodi_tabpanels">

                    <!-- Insert new dataset pane - START -->
                    <div role="tabpanel" class="tab-pane fade in" ng-class="{active:tab==0}" id="dataset">
                        <br />

                        <div class="rodi_section_01 ">
                            <div class="row">

                            <div class="col-xs-12 col-sm-12 col-md-10 col-md-push-2 col-lg-8 flex-container col">
                                <div class="row">
                                    <h1><!--Section A - -->Dataset</h1>
                                    <hr />
                                </div>

                                <div class="row">
                                    <div>
                                        <!--<span class="rodi_dataset_label_code">A1.</span>-->
                                        <span class="rodi_dataset_label">Country</span>
                                    </div>
                                    <span class="">Please select the country the dataset refers to.</span>
                                    <!--<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">-->
                                    <!--<br />-->
                                    <div class="dataset_form_select_style">
                                        <select ng-model="objDataset.country" class="dataset_form_select_style">
                                            <option value="--" selected>-- Select country --</option>
                                            <option ng-repeat="country in countryList | orderBy: 'name'" value="{{country.iso2}}">{{country.name}}</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="row">
                                    <!--<div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">-->
                                    <div>
                                        <!--<span class="rodi_dataset_label_code">A2.</span>-->
                                        <span class="rodi_dataset_label">Dataset</span>
                                    </div>
                                    <span>Please select the dataset you want to submit. You can filter the list of datasets per category.</span>

                                    <div class="dataset_form_select_style" style="margin-left: 0em;">
                                        <!--<small class="text-muted label">Filter by:</small>-->
                                        <span style="padding-right: 5px;"ng-repeat="dsCat in dataCategory" >
                                            <input type="button" class="btn btn-lg " ng-class="dataRiskSelectionClass(dsCat.category.id)" value="{{dsCat.category.name}}" ng-click="changeDataRiskSelection(dsCat.category.id)">
                                        </span>

                                    </div>

                                    <div class="dataset_form_select_style">
                                        <select class="dataset_form_select_style" ng-model="objDataset.keydataset.dataset" ng-change="changeDatasetSelection(objDataset.keydataset.dataset)">
                                            <option value="0" selected>-- Select dataset --</option>
                                            <option ng-repeat="dsname in datasetCategory | orderBy: 'dataset.name'" value="{{dsname.dataset.id}}">{{dsname.dataset.name}}</option>
                                        </select>
                                    </div><!--<br />-->
                                </div>

                                <div class="row">
                                    <span class="rodi_dataset_label">Description</span>
                                    <span ng-repeat="ds_desc in datasetDescription | orderBy: 'description.name'" class="rodi_description_box_item" ng-click="changeDescription(ds_desc.description.code)" ng-class="{'selected': ds_desc.description.code == objDataset.keydataset.description}">
                                        {{ds_desc.description.name}}
                                    </span>

                                    <!--<ul class="rodi_ul_datasetDesc">-->
                                        <!--<li ng-repeat="ds_desc in datasetDescription | orderBy: 'description.name'" class="rodi_description_box_item" ng-click="changeDescription(ds_desc.description.code)" ng-class="{'selected': ds_desc.description.code == objDataset.keydataset.description}">-->
                                            <!--{{ds_desc.description.name}} {{}}-->
                                        <!--</li>-->
                                    <!--</ul>-->
                                </div>
                                <div class="row">
                                    <div>
                                        <!--<span class="rodi_dataset_label_code">A3.</span>-->
                                        <span class="rodi_dataset_label">Datasets elements</span>
                                    </div>
                                    <span class="text-muted"><u>{{sTagsMsg}}</u></span>
                                    <span>{{sTagsInfo}}</span>
                                    <div class="flex-container">
                                        <div ng-model="selectedTags" class="rodi_cb_space" ng-repeat="tag in datasetTags" ng-click="setTags(tag)" ng-class="{active:selectedTags.indexOf(tag) !== -1}">
                                            <i class="fa fa-check" aria-hidden="true" ng-if="selectedTags.indexOf(tag) !== -1"></i> <span >{{tag}}</span>
                                            <!--<input type="checkbox" class="form-control" ng-model="selectedTags" > -->
                                        </div>
                                    </div>
                                    <!--</div>-->
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-2 col-md-2 col-lg-2">

                            </div>
                        </div>

                        </div>

                        <div class="rodi_section_02">
                            <div class="row">

                                <div class="col-xs-12 col-sm-12 col-md-10 col-md-push-2 col-lg-8">
                                    <h1><!--Section B --->Open data criteria</h1>
                                    <span>The following questions will help to determine the openness of the dataset.</span>
                                    <hr />
                                    <!-- Question #1 -->
                                    <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                        <span class="rodi_dataset_label_code rodi_dataset_question"><i class="fa fa-check-circle-o" ></i></span>
                                        <!--<span class="rodi_dataset_label_code">B1. </span>-->
                                        <span class="rodi_dataset_label">{{getQuestionCode('is_existing')}}</span>
                                        <span class="text-muted"><a href="" ng-click="questionHelp(0)"><i class="fa fa-question-circle" aria-hidden="true"></i></a></span>
                                    </div>
                                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_green': objDataset.is_existing == true}" ng-click="saveSelection('is_existing', true)">
                                                <span class="hidden-xs hidden-sm">YES</span>
                                                <span class="visible-xs visible-sm">Y</span>
                                            </div>
                                        </div>
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_red': objDataset.is_existing == false && objDataset.is_existing !== ''}" ng-click="saveSelection('is_existing', false)">
                                                <span class="hidden-xs hidden-sm">NO</span>
                                                <span class="visible-xs visible-sm">N</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                        <input type="text" class="form-control dataset_form_select_style" ng-model="objDataset.is_existing_txt" placeholder="If yes, name of the agency of organization that collects the data">
                                    </div>

                                </div>

                            </div>

                            <!-- Question #2 -->
                            <div class="row ">

                                <div class="col-xs-12 col-sm-12 col-md-10 col-md-push-2 col-lg-8">
                                    <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                        <span class="rodi_dataset_label_code rodi_dataset_question"><i class="fa fa-desktop" ></i></span>
                                        <!--<span class="rodi_dataset_label_code">B2.</span>-->
                                        <span class="rodi_dataset_label">{{getQuestionCode('is_digital_form')}}</span>
                                        <span class="text-muted"><a href="" ng-click="questionHelp(1)"><i class="fa fa-question-circle" aria-hidden="true"></i></a></span>
                                    </div>
                                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_green': objDataset.is_digital_form == true}" ng-click="saveSelection('is_digital_form', true)">
                                                <span class="hidden-xs hidden-sm">YES</span>
                                                <span class="visible-xs visible-sm">Y</span>
                                            </div>
                                        </div>
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_red': objDataset.is_digital_form == false && objDataset.is_digital_form !== ''}" ng-click="saveSelection('is_digital_form', false)">
                                                <span class="hidden-xs hidden-sm">NO</span>
                                                <span class="visible-xs visible-sm">N</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <!-- Question #7 (moved befor question 3) -->
                            <div class="row ">

                                <div class="col-xs-12 col-sm-12 col-md-10 col-md-push-2 col-lg-8">
                                    <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                        <span class="rodi_dataset_label_code rodi_dataset_question"><i class="fa fa-eye" ></i></span>
                                        <!--<span class="rodi_dataset_label_code">B7.</span>-->
                                        <span class="rodi_dataset_label">{{getQuestionCode('is_pub_available')}}</span>
                                        <span class="text-muted"><a href="" ng-click="questionHelp(6)"><i class="fa fa-question-circle" aria-hidden="true"></i></a></span>
                                    </div>
                                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_green': objDataset.is_pub_available == true}" ng-click="saveSelection('is_pub_available', true)">
                                                <span class="hidden-xs hidden-sm">YES</span>
                                                <span class="visible-xs visible-sm">Y</span>
                                            </div>
                                        </div>
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_red': objDataset.is_pub_available == false && objDataset.is_pub_available !== ''}" ng-click="saveSelection('is_pub_available', false)">
                                                <span class="hidden-xs hidden-sm">NO</span>
                                                <span class="visible-xs visible-sm">N</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <!-- Question #3 -->
                            <div class="row ">

                                <div class="col-xs-12 col-sm-12 col-md-10 col-md-push-2 col-lg-8">
                                    <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                        <span class="rodi_dataset_label_code rodi_dataset_question"><i class="fa fa-cloud" ></i></span>
                                        <!--<span class="rodi_dataset_label_code">B3.</span>-->
                                        <span class="rodi_dataset_label">{{getQuestionCode('is_avail_online')}}</span>
                                        <span class="text-muted"><a href="" ng-click="questionHelp(2)"><i class="fa fa-question-circle" aria-hidden="true"></i></a></span>

                                    </div>
                                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_green': objDataset.is_avail_online == true}" ng-click="saveSelection('is_avail_online', true)">
                                                <span class="hidden-xs hidden-sm">YES</span>
                                                <span class="visible-xs visible-sm">Y</span>
                                            </div>
                                        </div>
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_red': objDataset.is_avail_online == false && objDataset.is_avail_online !== ''}" ng-click="saveSelection('is_avail_online', false)">
                                                <span class="hidden-xs hidden-sm">NO</span>
                                                <span class="visible-xs visible-sm">N</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                        <br />
                                        <div class="input-group">
                                            <input type="text" class="form-control " placeholder="If yes, add url(s) where to find the data" ng-model="newLink">
                                            <span class="input-group-btn ">
                                                <button class="btn btn-info" type="button" ng-click="addLink(newLink)">
                                                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                                    Add Link
                                                </button>
                                            </span>
                                        </div><!-- /input-group -->
                                        <br />
                                    </div>
                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                        <!--<ul class="rodi_ul">
                                            <li ng-repeat="link in selectedLink">
                                                - {{link}}
                                                <div class="pull-right">
                                                    <a href="" ng-click="deleteLink(link)"><i class="fa fa-trash-o" aria-hidden="true"></i></a>&nbsp;&nbsp;
                                                </div>
                                            </li>
                                        </ul>-->
                                    </div>

                                </div>

                            </div>

                            <!-- Question #4 -->
                            <div class="row ">

                                <div class="col-xs-12 col-sm-12 col-md-10 col-md-push-2 col-lg-8">
                                    <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                        <span class="rodi_dataset_label_code rodi_dataset_question"><i class="fa fa-tag" ></i></span>
                                        <!--<span class="rodi_dataset_label_code">B4.</span>-->
                                        <span class="rodi_dataset_label">{{getQuestionCode('is_avail_online_meta')}}</span>
                                        <span class="text-muted"><a href="" ng-click="questionHelp(3)"><i class="fa fa-question-circle" aria-hidden="true"></i></a></span>
                                    </div>
                                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_green': objDataset.is_avail_online_meta == true}" ng-click="saveSelection('is_avail_online_meta', true)">
                                                <span class="hidden-xs hidden-sm">YES</span>
                                                <span class="visible-xs visible-sm">Y</span>
                                            </div>
                                        </div>
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_red': objDataset.is_avail_online_meta == false && objDataset.is_avail_online_meta !== ''}" ng-click="saveSelection('is_avail_online_meta', false)">
                                                <span class="hidden-xs hidden-sm">NO</span>
                                                <span class="visible-xs visible-sm">N</span>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                        <br />
                                        <div class="input-group">
                                            <input type="text" class="form-control " placeholder="If yes, add url(s) where to find the metadata" ng-model="newMeta">
                                            <span class="input-group-btn ">
                                                <button class="btn btn-info" type="button" ng-click="addLink(newMeta)">
                                                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                                                    Add Link
                                                </button>
                                            </span>
                                        </div><!-- /input-group -->
                                        <br />
                                    </div>
                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                        <strong>> Link list for data & metadata</strong>
                                        <ul class="rodi_ul">
                                            <li ng-repeat="link in selectedLink">
                                                - {{link}}
                                                <div class="pull-right">
                                                    <a href="" ng-click="deleteLink(link)"><i class="fa fa-trash-o" aria-hidden="true"></i></a>&nbsp;&nbsp;
                                                </div>
                                            </li>
                                        </ul>
                                    </div>

                                </div>


                            </div>

                            <!-- Question #5 -->
                            <div class="row ">

                                <div class="col-xs-12 col-sm-12 col-md-10 col-md-push-2 col-lg-8">
                                    <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                        <span class="rodi_dataset_label_code rodi_dataset_question"><i class="fa fa-copy" ></i></span>
                                        <!--<span class="rodi_dataset_label_code">B5.</span>-->
                                        <span class="rodi_dataset_label">{{getQuestionCode('is_bulk_avail')}}</span>
                                        <span class="text-muted"><a href="" ng-click="questionHelp(4)"><i class="fa fa-question-circle" aria-hidden="true"></i></a></span>
                                    </div>
                                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_green': objDataset.is_bulk_avail == true}" ng-click="saveSelection('is_bulk_avail', true)">
                                                <span class="hidden-xs hidden-sm">YES</span>
                                                <span class="visible-xs visible-sm">Y</span>
                                            </div>
                                        </div>
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_red': objDataset.is_bulk_avail == false && objDataset.is_bulk_avail !== ''}" ng-click="saveSelection('is_bulk_avail', false)">
                                                <span class="hidden-xs hidden-sm">NO</span>
                                                <span class="visible-xs visible-sm">N</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <!-- Question #6 -->
                            <div class="row ">

                                <div class="col-xs-12 col-sm-12 col-md-10 col-md-push-2 col-lg-8">
                                    <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                        <span class="rodi_dataset_label_code rodi_dataset_question"><i class="fa fa-keyboard-o" ></i></span>
                                        <!--<span class="rodi_dataset_label_code">B6.</span>-->
                                        <span class="rodi_dataset_label">{{getQuestionCode('is_machine_read')}}</span>
                                        <span class="text-muted"><a href="" ng-click="questionHelp(5)"><i class="fa fa-question-circle" aria-hidden="true"></i></a></span>
                                    </div>

                                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_green': objDataset.is_machine_read == true}" ng-click="saveSelection('is_machine_read', true)">
                                                <span class="hidden-xs hidden-sm">YES</span>
                                                <span class="visible-xs visible-sm">Y</span>
                                            </div>
                                        </div>
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_red': objDataset.is_machine_read == false && objDataset.is_machine_read !== ''}" ng-click="saveSelection('is_machine_read', false)">
                                                <span class="hidden-xs hidden-sm">NO</span>
                                                <span class="visible-xs visible-sm">N</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                        <input type="text" class="form-control dataset_form_select_style" ng-model="objDataset.is_machine_read_txt" placeholder="Format(s) the data is available in (json, csv, xls, shp, etc.)">
                                    </div>
                                </div>

                            </div>

                            <!-- Question #8 -->
                            <div class="row ">

                                <div class="col-xs-12 col-sm-12 col-md-10 col-md-push-2 col-lg-8">
                                    <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                        <span class="rodi_dataset_label_code rodi_dataset_question"><i class="fa fa-dollar" ></i></span>
                                        <!--<span class="rodi_dataset_label_code">B8.</span>-->
                                        <span class="rodi_dataset_label">{{getQuestionCode('is_avail_for_free')}}</span>
                                        <span class="text-muted"><a href="" ng-click="questionHelp(7)"><i class="fa fa-question-circle" aria-hidden="true"></i></a></span>
                                    </div>

                                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_green': objDataset.is_avail_for_free == true}" ng-click="saveSelection('is_avail_for_free', true)">
                                                <span class="hidden-xs hidden-sm">YES</span>
                                                <span class="visible-xs visible-sm">Y</span>
                                            </div>
                                        </div>
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_red': objDataset.is_avail_for_free == false && objDataset.is_avail_for_free !== ''}" ng-click="saveSelection('is_avail_for_free', false)">
                                                <span class="hidden-xs hidden-sm">NO</span>
                                                <span class="visible-xs visible-sm">N</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <!-- Question #9 -->
                            <div class="row ">

                                <div class="col-xs-12 col-sm-12 col-md-10 col-md-push-2 col-lg-8">
                                    <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                        <span class="rodi_dataset_label_code rodi_dataset_question"><i class="fa fa-unlock-alt" ></i></span>
                                        <!--<span class="rodi_dataset_label_code">B9.</span>-->
                                        <span class="rodi_dataset_label">{{getQuestionCode('is_open_licence')}}</span>
                                        <span class="text-muted"><a href="" ng-click="questionHelp(8)"><i class="fa fa-question-circle" aria-hidden="true"></i></a></span>
                                    </div>

                                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_green': objDataset.is_open_licence == true}" ng-click="saveSelection('is_open_licence', true)">
                                                <span class="hidden-xs hidden-sm">YES</span>
                                                <span class="visible-xs visible-sm">Y</span>
                                            </div>
                                        </div>
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_red': objDataset.is_open_licence == false && objDataset.is_open_licence !== ''}" ng-click="saveSelection('is_open_licence', false)">
                                                <span class="hidden-xs hidden-sm">NO</span>
                                                <span class="visible-xs visible-sm">N</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                        <input type="text" class="form-control dataset_form_select_style" ng-model="objDataset.is_open_licence_txt" placeholder="Url or name of the license">
                                    </div>
                                </div>

                            </div>

                            <!-- Question #10 -->
                            <div class="row ">

                                <div class="col-xs-12 col-sm-12 col-md-10 col-md-push-2 col-lg-8">
                                    <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                        <span class="rodi_dataset_label_code rodi_dataset_question"><i class="fa fa-clock-o" ></i></span>
                                        <!--<span class="rodi_dataset_label_code">B10.</span>-->
                                        <span class="rodi_dataset_label">{{getQuestionCode('is_prov_timely')}}</span>
                                        <span class="text-muted"><a href="" ng-click="questionHelp(9)"><i class="fa fa-question-circle" aria-hidden="true"></i></a></span>
                                    </div>

                                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_green': objDataset.is_prov_timely == true}" ng-click="saveSelection('is_prov_timely', true)">
                                                <span class="hidden-xs hidden-sm">YES</span>
                                                <span class="visible-xs visible-sm">Y</span>
                                            </div>
                                        </div>
                                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-NO">
                                            <div class="rodi_btn_yes_no" ng-class="{'rodi_btn_yes_bg_red': objDataset.is_prov_timely == false && objDataset.is_prov_timely !==''}" ng-click="saveSelection('is_prov_timely', false)">
                                                <span class="hidden-xs hidden-sm">NO</span>
                                                <span class="visible-xs visible-sm">N</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                        <!--<input type="date" id="" class="form-control dataset_form_select_style" ng-model="objDataset.is_prov_timely_last" placeholder="Date of last update">-->
                                        <input id="" class="form-control dataset_form_select_style" ng-model="objDataset.is_prov_timely_last" placeholder="Date of last update (dd/mm/yyyy)">
                                    </div>
                                </div>

                            </div>
                        </div>

                        <div class="rodi_section_02">
                            <div class="row">

                                <div class="col-xs-12 col-sm-12 col-md-10 col-md-push-2 col-lg-8">
                                    <h1><!--Section D --->Additional information</h1>
                                    <span>Please use the text box below to add any useful information with regard to access and use of the dataset, as well as title of the dataset, if any.</span>
                                    <hr />
                                    <textarea class="form-control " rows="3" placeholder="Notes" ng-model="objDataset.notes"></textarea>
                                </div>

                            </div>
                        </div>

                        <div class="row">
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
                                <br /><br />
                                <input type="button" class="btn btn-lg btn-success" value="Submit dataset" ng-click="saveDataset()">
                            </div>
                        </div>

                    </div>
                    <!-- Insert new dataset pane- END -->

                    <!-- My Dataset -->
                    <div role="tabpanel" class="tab-pane" ng-class="{active:tab==1}" id="mydataset">
                        <span class="text-muted pull-right">Your Dataset: {{iNrMyDataset}}</span>
                        <div class="row" ng-if="bDatasetProfile">
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <br/><br/>
                                <table ng-table="tableParams" class="table table-hover dataset text-left" show-filter="false">

                                    <tr ng-repeat="ds in $data">
                                        <!--<td title="'#'"><h5>{{$index + 1}}</h5></td>-->
                                        <!--<td title="'Category'" filter="{ 'keydataset.category': 'text'}" sortable="'keydataset.category'">-->
                                        <td title="'Category'" sortable="'keydataset.category'">
                                            <h5>{{ds.keydataset.category}}</h5>
                                            <small>{{ds.keydataset.level}}</small>
                                        </td>
                                        <!--<td title="'Dataset'" filter="{ 'keydataset.dataset.name': 'text'}" sortable="'keydataset.dataset.name'">-->
                                        <td title="'Dataset'" sortable="'keydataset.dataset.name'">
                                            <h5>{{ds.keydataset.dataset.name}}</h5>
                                            {{formatStringLenght(ds.keydataset.description)}}<br /> <small><a href="" data-toggle="modal" data-target="#moreinfoModal{{$index}}">more info</a></small>
                                            <br /><br />
                                            Agency: <span>{{ds.is_existing_txt}}</span>
                                            <br />
                                            Tags: <span ng-repeat="tag in ds.tag"><small>{{tag}}<span ng-if="!$last">,</span></small> </span>
                                            <br />

                                            <!-- Modal Description -->
                                            <div class="modal fade" id="moreinfoModal{{$index}}" tabindex="-1" role="dialog" aria-labelledby="moreinfoModal{{$index}}label" aria-hidden="true">
                                                <div class="modal-dialog modal-lg" role="document">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h5 class="modal-title" id="moreinfoModal{{$index}}label">{{ds.keydataset.category}} - {{ds.keydataset.dataset.name}} ({{ds.keydataset.level}})</h5>
                                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                <span aria-hidden="true">&times;</span>
                                                            </button>
                                                        </div>
                                                        <div class="modal-body">
                                                            <strong>Description</strong>
                                                            <br />
                                                            {{ds.keydataset.description}}
                                                            <br /><br />
                                                            <strong>Notes</strong>
                                                            <br />
                                                            {{ds.notes}}
                                                        </div>
                                                        <div class="modal-footer">
                                                            <button type="button" class="btn btn-info" data-dismiss="modal">Close</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </td>
                                        <!--<td title="'Level'" filter="{ 'keydataset.level': 'text'}" sortable="'keydataset.level'">
                                            <h5>{{ds.keydataset.level}}</h5></td>-->
                                        <!--<td title="'Tags'">
                                            <span ng-repeat="tag in ds.tag"><small>{{tag}}<span ng-if="!$last">,</span></small> </span>
                                        </td>-->
                                        <td title="'Submission Date'" sortable="'create_time'">
                                            <h5>{{ds.create_time | date: 'dd/MM/yyyy'}}</h5>
                                        </td>
                                        <td title="'Open data criteria'">
                                            <div class="dataset_value">
                                                <i class="fa fa-check-circle-o" aria-hidden="{{ds.is_existing}}" data-toggle="tooltip" title="{{questions[0].desc}}"></i>
                                                <i class="fa fa-desktop" aria-hidden="{{ds.is_digital_form}}" data-toggle="tooltip" title="{{questions[1].desc}}"></i>
                                                <i class="fa fa-cloud" aria-hidden="{{ds.is_avail_online}}" data-toggle="tooltip" title="{{questions[2].desc}}"></i>
                                                <i class="fa fa-tag" aria-hidden="{{ds.is_avail_online_meta}}" data-toggle="tooltip" title="{{questions[3].desc}}"></i>
                                                <i class="fa fa-copy" aria-hidden="{{ds.is_bulk_avail}}" data-toggle="tooltip" title="{{questions[4].desc}}"></i>
                                                <i class="fa fa-keyboard-o" aria-hidden="{{ds.is_machine_read}}" data-toggle="tooltip" title="{{questions[5].desc}}"></i>
                                                <i class="fa fa-eye" aria-hidden="{{ds.is_pub_available}}" data-toggle="tooltip" title="{{questions[6].desc}}"></i>
                                                <i class="fa fa-dollar" aria-hidden="{{ds.is_avail_for_free}}" data-toggle="tooltip" title="{{questions[7].desc}}"></i>
                                                <i class="fa fa-unlock-alt" aria-hidden="{{ds.is_open_licence}}" data-toggle="tooltip" title="{{questions[8].desc}}"></i>
                                                <i class="fa fa-clock-o" aria-hidden="{{ds.is_prov_timely}}" data-toggle="tooltip" title="{{questions[9].desc}}"></i>
                                            </div>
                                        </td>
                                        <!--<td title="'Year'" filter="{ create_time: 'number'}" sortable="'create_time'" class="text-center">
                                            <h5>{{ds.create_time | date: 'yyyy'}}</h5>
                                        </td>-->
                                        <td  sortable="'is_reviewed'" title="'Details'" class="text-center status">
                                            <div class="">

                                                <!--<i class="fa fa-2x fa-clock-o" aria-hidden="true" ng-if="!ds.is_reviewed" style="color:#eea236; color:rgba(51, 122, 183, 0.7);"></i>-->
                                                <a class="" href="" title="details" style="margin-right:10px;" ng-click="changepage('dataset_details.html?keyds=' + ds.id)">
                                    <span class="fa-stack fa-lg fa-2x">
                                      <i class="fa fa-circle fa-stack-2x"></i>
                                      <i class="fa fa-search fa-stack-1x fa-inverse"></i>
                                    </span>

                                                    <div class="badge">
                                         <span class="fa-stack fa-lg ">
                                             <i class="fa fa-circle fa-stack-2x"></i>
                                             <i class="ok fa fa-check-circle-o fa-stack-1x fa-inverse" aria-hidden="true" ng-if="ds.is_reviewed" ></i>
                                             <i class="rev fa fa-clock-o fa-stack-1x fa-inverse" aria-hidden="true" ng-if="!ds.is_reviewed" ></i>
                                        </span>
                                                    </div>

                                                </a>
                                            </div>


                                        </td>
                                        <td title="'Download'" class="text-center status" sortable="'download'" >
                                            <div class="">

                                                <a class="download" title="Download link" href="" ng-if="ds.url.length > 0" data-toggle="modal" data-target="#linkdataModal{{$index}}">
                                                     <span class="fa-stack fa-lg fa-2x">
                                                      <i class="fa fa-circle fa-stack-2x"></i>
                                                      <i class="fa fa-download fa-stack-1x fa-inverse"></i>
                                                    </span>
                                                    <!--<i class="fa fa-download fa-2x"></i>-->
                                                </a>

                                                <!-- Modal Link download DATA & METADATA -->
                                                <div class="modal fade" id="linkdataModal{{$index}}" tabindex="-1" role="dialog" aria-labelledby="linkdataModal{{$index}}label" aria-hidden="true">
                                                    <div class="modal-dialog modal-lg" role="document">
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <h5 class="modal-title" id="linkdataModal{{$index}}label">{{ds.keydataset.category}} - {{ds.keydataset.dataset.name}} ({{ds.keydataset.level}})</h5>
                                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                    <span aria-hidden="true">&times;</span>
                                                                </button>
                                                            </div>
                                                            <div class="modal-body text-left">
                                                                <strong>Donwload link</strong>
                                                                <br /><br />
                                                                <ul class="text-left">
                                                                    <li ng-repeat="link in ds.url">
                                                                        <a href="{{link}}" target="_blank">{{link}}</a>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button" class="btn btn-info" data-dismiss="modal">Close</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </td>

                                    </tr>
                                </table>

                            </div>
                        </div>
                        <div class="row" ng-if="!bDatasetProfile">
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <i>No dataset inserted at this time</i>
                                <br /><br /><br />
                            </div>
                        </div>
                    </div>

                    <!-- Dataset review -->
                    <div role="tabpanel" class="tab-pane" ng-class="{active:tab==2}" id="datasetreview">
                        <strong>Dataset review</strong>
                        <span class="text-muted pull-right">Dataset found: {{datasetReviewList.length}}</span>
                        <br /><br />

                        <div class="row" ng-if="bDatasetReview">
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                                <div style="background-color: rgba(0,0,0,.1); padding:10px;">
                                    <div class="row">
                                        <div class="col-xs-6 col-sm-6 col-md-4 col-lg-4">
                                            <label>Filter by Country</label>
                                            <select ng-model="reviewCountryFilter" class="form-control">
                                                <option ng-repeat="coun in countryList" value="{{coun.iso2}}">{{coun.name}}</option>
                                            </select>
                                        </div>
                                        <div class="col-xs-6 col-sm-6 col-md-4 col-lg-4">
                                            &nbsp;
                                        </div>
                                        <div class="col-xs-6 col-sm-6 col-md-4 col-lg-4">
                                            &nbsp;
                                        </div>
                                    </div>
                                </div>
                                <br />

                                <!-- NEW TABLE START - Manuel 18/09/2018 -->
                                <div class="table-responsive">
                                    <table ng-table="tableParamsReview" class="table table-responsive table-striped table-hover" show-filter="false">
                                        <thead>
                                            <tr>
                                                <th style="text-align:left!important;"><h4>Country</h4></th>
                                                <th style="text-align:left!important;"><h4>Dataset</h4></th>
                                                <th style="text-align:left!important;"><h4>Open Data Criteria</h4></th>
                                                <th style="text-align:left!important;"><h4>Submission date</h4></th>
                                                <th style="text-align:left!important;"><h4>Review</h4></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="ds in $data | filter: {country: reviewCountryFilter}">
                                                <td>{{getCountryNameReview(ds.country)}}</td>
                                                <td>
                                                    <!-- Dataset info -->
                                                    {{ds.keydataset.category}} - {{ds.keydataset.level}} - <strong>{{ds.keydataset.dataset.name}}</strong><br />
                                                    {{formatStringLenght(ds.keydataset.description)}}<br /> <small><a href="" data-toggle="modal" data-target="#moreinfoModalReview{{$index}}">more info</a></small>
                                                    <br /><br />
                                                    Tags: <span ng-repeat="tag in ds.tag"><small>{{tag}}<span ng-if="!$last">,</span></small> </span>
                                                    <br />

                                                    <!-- Modal -->
                                                    <div class="modal fade" id="moreinfoModalReview{{$index}}" tabindex="-1" role="dialog" aria-labelledby="moreinfoModalReview{{$index}}label" aria-hidden="true">
                                                        <div class="modal-dialog modal-lg" role="document">
                                                            <div class="modal-content">
                                                                <div class="modal-header">
                                                                    <h5 class="modal-title" id="moreinfoModalReview{{$index}}label">{{ds.keydataset.category}} - {{ds.keydataset.dataset.name}} ({{ds.keydataset.level}})</h5>
                                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                                        <span aria-hidden="true">&times;</span>
                                                                    </button>
                                                                </div>
                                                                <div class="modal-body">
                                                                    <strong>Description</strong>
                                                                    <br />
                                                                    {{ds.keydataset.description}}
                                                                    <br /><br />
                                                                    <strong>Notes</strong>
                                                                    <br />
                                                                    {{ds.notes}}
                                                                </div>
                                                                <div class="modal-footer">
                                                                    <button type="button" class="btn btn-info" data-dismiss="modal">Close</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </td>
                                                <td>
                                                    <!-- Open data criteria -->
                                                    <div class=" dataset_value">
                                                        <i class="fa fa-check-circle-o" aria-hidden="{{ds.is_existing}}" data-toggle="tooltip" title="{{questions[0].desc}}"></i>
                                                        <i class="fa fa-desktop" aria-hidden="{{ds.is_digital_form}}" data-toggle="tooltip" title="{{questions[1].desc}}"></i>
                                                        <i class="fa fa-cloud" aria-hidden="{{ds.is_avail_online}}" data-toggle="tooltip" title="{{questions[2].desc}}"></i>
                                                        <i class="fa fa-tag" aria-hidden="{{ds.is_avail_online_meta}}" data-toggle="tooltip" title="{{questions[3].desc}}"></i>
                                                        <i class="fa fa-copy" aria-hidden="{{ds.is_bulk_avail}}" data-toggle="tooltip" title="{{questions[4].desc}}"></i>
                                                        <i class="fa fa-keyboard-o" aria-hidden="{{ds.is_machine_read}}" data-toggle="tooltip" title="{{questions[5].desc}}"></i>
                                                        <i class="fa fa-eye" aria-hidden="{{ds.is_pub_available}}" data-toggle="tooltip" title="{{questions[6].desc}}"></i>
                                                        <i class="fa fa-dollar" aria-hidden="{{ds.is_avail_for_free}}" data-toggle="tooltip" title="{{questions[7].desc}}"></i>
                                                        <i class="fa fa-unlock-alt" aria-hidden="{{ds.is_open_licence}}" data-toggle="tooltip" title="{{questions[8].desc}}"></i>
                                                        <i class="fa fa-clock-o" aria-hidden="{{ds.is_prov_timely}}" data-toggle="tooltip" title="{{questions[9].desc}}"></i>
                                                    </div>
                                                </td>
                                                <td>{{ds.create_time | date: 'dd/MM/yyyy'}}</td>
                                                <td>
                                                    <div class="flex-container flex-row">
                                                        <i class="fa fa-2x fa-check-circle-o ok" aria-hidden="true" ng-if="ds.is_reviewed" title="Reviewed" ></i>
                                                        <i class="fa fa-2x fa-clock-o rev" aria-hidden="true" ng-if="!ds.is_reviewed" title="Pending approval"></i>
                                                        <!--<i class="fa fa-2x fa-clock-o" aria-hidden="true" ng-if="!ds.is_reviewed" style="color:#eea236; color:rgba(51, 122, 183, 0.7);"></i>-->
                                                        <a class="" href="" title="details" ng-click="changepage('dataset_details.html?rl=true&keyds=' + ds.id)">
                                                            <i class="fa fa-2x fa-search"></i>
                                                        </a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div class="text-center" ng-if="bLoadingTabelReview"><img src="img/template/loading.gif" alt="" style="max-width:80px;" /></div>
                                </div>

                            </div>
                        </div>
                        <div class="row" ng-if="!bDatasetReview">
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <i>No dataset to review at this time</i>
                                <br /><br /><br />
                            </div>
                        </div>
                    </div>

                    <!-- My Profile -->
                    <div role="tabpanel" class="tab-pane" ng-class="[{'active':tab==3}]" id="profile">
                        <div class="row">
                            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                <div class="alert alert-info">User name: {{userinfo.username}}- access level: <span class="text-uppercase">{{userinfo.groups[0]}}</span></div>
                                <form name="registrationForm">
                                    <label>Title</label>
                                    <input type="text" name="usrtitle" placeholder="Ex: Dr" class="form-control" ng-model="userinfo.title">
                                    <br />
                                    <label>First name (*)</label>
                                    <input type="text" name="usrname" placeholder="Name" class="form-control" ng-model="userinfo.first_name">
                                    <br />
                                    <label>Last name  (*)</label>
                                    <input type="text" name="usrsurname" placeholder="Surname" class="form-control" ng-model="userinfo.last_name">
                                    <br />
                                    <label>E-mail  (*)</label>
                                    <span class="register_error" ng-show="registrationForm.usremail.$error.pattern">invalid email!</span>
                                    <input type="email" name="usremail" placeholder="E-mail address" class="form-control" ng-model="userinfo.email" ng-pattern="checkMail">
                                    <br />
                                    <label>Institution</label>
                                    <input type="text" name="usrinstitution" placeholder="Institution" class="form-control" ng-model="userinfo.institution">
                                    <br />
                                    <div class="text-right">
                                        <a href="" class="btn btn-success" ng-click="putProfile()">Save data</a><br />
                                        <span class="small text-muted">(*) Required</span>
                                    </div>
                                </form>
                            </div>
                            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                <div class="alert alert-info">Change password</div>
                                <label>Old password  (*)</label>
                                <input type="password" placeholder="Old password" class="form-control" ng-model="old_psw">
                                <br />
                                <label>New password (min 8 chr)  (*)</label>
                                <input type="password" placeholder="New password" class="form-control" ng-model="new_psw">
                                <br />
                                <label>Confirm new password (min 8 chr)  (*)</label>
                                <input type="password" placeholder="Confirm new password" class="form-control" ng-model="confirm_psw">
                                <br />
                                <div class="text-right">
                                    <a href="" class="btn btn-success" ng-click="resetProfilePsw(old_psw, new_psw, confirm_psw)">Change password</a><br />
                                    <span class="small text-muted">(*) Required</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Registered user dashboard -->
                    <div role="tabpanel" class="tab-pane fade" id="users">
                        <div class="row">
                            <div class="col-xs-12 col-sm-12 col-md-10 col-md-push-2 col-lg-8">
                                <input type="text" placeholder="filter by username, first name, last name, email, group or institution" class="form-control" ng-model="txtFilter">
                                <br />
                                <span class="text-muted">Users: {{filteredUser.length}}</span>
                            </div>
                            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4 text-right">
                                <a href="" class="btn btn-success" ng-click="openPopup(-999)">Add user</a>
                            </div>
                        </div>
                        <br /><br />
                        <div class="row">
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <table class="table table-striped table-hover table-condensed">
                                    <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Username</th>
                                        <th>User info</th>
                                        <th class="text-center">Group</th>
                                        <th>Institution</th>
                                        <th class="text-center">Edit</th>
                                        <th class="text-center">Cancel</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="userReg in usrRegList | filter: txtFilter as filteredUser">
                                        <td>{{userReg.pk}}</td>
                                        <td>{{userReg.username}}</td>
                                        <td>
                                            {{userReg.title}} {{userReg.last_name}} {{userReg.first_name}}<br />
                                            <span class="text-muted">{{userReg.email}}</span>
                                        </td>
                                        <td class="text-center">
                                            <i class="fa fa-user-secret text-info" aria-hidden="true" ng-if="userReg.groups[0] == 'admin'"></i>
                                            <i class="fa fa-user-plus text-warning" aria-hidden="true" ng-if="userReg.groups[0] == 'reviewer'"></i>
                                            <i class="fa fa-user" aria-hidden="true" ng-if="userReg.groups.length == 0"></i>
                                        </td>
                                        <td>{{userReg.institution}}</td>
                                        <td class="text-center"><a href="" class="btn btn-xs btn-success" ng-click="openPopup(userReg.pk)"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a></td>
                                        <td class="text-center"><a href="" class="btn btn-xs btn-danger" ng-click="deleteUsrInfoAdmin(userReg.pk)"><i class="fa fa-trash" aria-hidden="true"></i></a></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Scoring update -->
                    <div role="tabpanel" class="tab-pane fade" id="update">
                        <div class="row">
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
                                <br /><br />
                                <a href="" class="btn btn-lg btn-success" ng-click="updateScoringMan()">UPDATE NOW</a>
                                <br /><br />
                                <div class="text-center" ng-if="bLoadingUpdateScoring"><img src="img/template/loading.gif" alt="" style="max-width:80px;" /></div>
                            </div>
                        </div>
                        <br /><br /><br />
                    </div>
                </div>
            </div>
        </div>

        <div class="jumbotron" ng-if="!bLogin && tabpar !== '3'">
            <div class="container">
                <p class="text-center">You are about to submit information on a dataset and assess whether it is open or not.<br/>
                <p class="text-center">Please login or register first, or see <a href="" ng-click="changepage('methodology.html')">Documentation</a> for more details.</p>
                <br><br><br><br>
                <div class="text-center">
                    <!--<span class="rodi_big_text">|</span>-->
                    <button class="btn btn-primary btn-lg" type="button" ng-click="loginform()">
                            <span class="rodi_big_text">
                                <i class="fa icon-login fa-2x"></i>
                                LOGIN
                            </span>
                    </button>
                    <button class="btn btn-lg btn-custom " type="button" ng-click="changepage('register.html')">
                            <span class="rodi_big_text">
                                <i class="fa icon-register fa-2x"></i>
                                REGISTER
                            </span>
                    </button>
                </div>
            </div>
        </div>
      </div>
    </section>
    <!-- Section MAP - FINE -->

    <section>
        <div class="container-fluid">
            <div class="footer">
                <!--<div class="space"></div>-->
                <!-- Section FOOTER - INIZIO -->
                <rodifooter></rodifooter>
                <!-- Section FOOTER - FINE -->
            </div>
        </div>

    </section>


    <!-- User edit modal -->
    <div class="modal fade" id="editUser" tabindex="-1" role="dialog" aria-labelledby="editUserLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="editUserLabel">User profile - {{stypeModal}}</h4>
                </div>
                <div class="modal-body">

                    <div class="alert alert-info">User name: {{usradmininfo.username}}- access level: <span class="text-uppercase">{{usradmininfo.groups[0]}}</span></div>
                    <form name="registrationForm">
                        <label>Username</label>
                        <input type="text" name="usrid" placeholder="Username" class="form-control" ng-model="usradmininfo.username">
                        <br />
                        <label>Title</label>
                        <input type="text" name="usrtitle" placeholder="es: Drs" class="form-control" ng-model="usradmininfo.title">
                        <br />
                        <label>First name (*)</label>
                        <input type="text" name="usrname" placeholder="Name" class="form-control" ng-model="usradmininfo.first_name">
                        <br />
                        <label>Last name  (*)</label>
                        <input type="text" name="usrsurname" placeholder="Surname" class="form-control" ng-model="usradmininfo.last_name">
                        <br />
                        <label>E-mail  (*)</label>
                        <span class="register_error" ng-show="registrationForm.usremail.$error.pattern">invalid email!</span>
                        <input type="email" name="usremail" placeholder="E-mail address" class="form-control" ng-model="usradmininfo.email" ng-pattern="checkMail">
                        <br />
                        <label>Group</label>
                        <select ng-model="groupSelect" class="form-control">
                            <option value="normal">Normal user</option>
                            <option value="reviewer">Reviwer</option>
                            <option value="admin">Administrator</option>
                        </select>
                        <br />

                        <label>Institution</label>
                        <input type="text" name="usrinstitution" placeholder="Institution" class="form-control" ng-model="usradmininfo.institution">
                        <br />
                    </form>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-success" ng-click="saveUsrInfoAdmin()">Save changes</button>
                </div>
            </div>
        </div>
    </div>
    </div>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

</body>
</html>
