<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="minimal-ui, width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <meta content="Open Data for Resilience Index " name="description" />
    <meta content="" name="author" />

    <base href="{{$locationProvider.$get}}" />

    <title>Open Data for Resilience Index</title>

    <!-- jQuery library -->
    <script src="bower_components/jquery/dist/jquery.min.js"></script>

    <!-- Angular components -->
    <script src="bower_components/angular/angular.min.js"></script>

    <!-- Chart libraries-->
    <link href="bower_components/highcharts/css/highcharts_rodi.css" rel="stylesheet">
    <script src="bower_components/highcharts/js/highcharts.js"></script>
    <!--<script src="bower_components/highcharts/js/highcharts-3d.js"></script>-->
    <script src="bower_components/highcharts/js/modules/exporting.js"></script>
    <script src="bower_components/highcharts/js/highcharts-more.js"></script>
    <script src="bower_components/highcharts/js/modules/solid-gauge.js"></script>

    <link href="bower_components/ng-table/dist/ng-table.min.css" rel="stylesheet">
    <script src="bower_components/ng-table/dist/ng-table.min.js"></script>

    <!-- bootstrap Framework -->
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- font awesome-->
    <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link href="bower_components/animate.css/animate.min.css" rel="stylesheet">

    <!-- RODI APP -->
    <script src="bower_components/angular-cookies/angular-cookies.min.js"></script>
    <script src="js/angular/app.js"></script>
    <script src="js/angular/service.js" type="text/javascript"></script>
    <script src="js/angular/controller.js" type="text/javascript"></script>
    <script src="js/angular/controller_mainmenu.js" type="text/javascript"></script>
    <script src="js/angular/directive.js" type="text/javascript"></script>
    <!-- RODI APP -->

    <!-- RODI css -->
    <link href="css/rodi_css.css" rel="stylesheet">
    <link href="css/style_map.css" rel="stylesheet">

    <!-- Guida: https://medium.com/@tweededbadger/tutorial-dynamic-data-driven-svg-map-with-angularjs-b112fdec421d -->
    <!--<script src="js/change_svg.js"></script>-->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-80600133-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-80600133-2');
    </script>


</head>
<body ng-app="RodiApp" ng-controller="RodiCtrl">

    <div class="container">

        <!-- Section HEADER - INIZIO -->
        <section id="rodi_header">

            <div class="row  ">
                <!--<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">-->
                <div class="col-xs-7 col-sm-3 " style="color:black;">
                    <a ng-if="bHome" href="" ng-click="changeview('index.html', '0')">
                        <svg class="logo_icon" aria-hidden="true" focusable="false" fill="currentColor;">
                            <use xlink:href="img/logo.svg#logo_open_data_full"></use>
                        </svg>
                    </a>
                </div>

                <div class="col-xs-5 col-sm-9 ">
                    <button type="button" class="navbar-toggle navbar-toggle-right-black " data-toggle="collapse" data-target="#menu-website" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <i class="fa fa-bars"></i>
                    </button>

                    <mainmenu ></mainmenu>
                </div>



            </div>


            <div class="row">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
                    <br /><br />
                    <h2 class="page_title_small">Statistics</h2>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
                    <!-- start count stats -->
                    <section id="counter-stats" class="wow fadeInRight" data-wow-duration="1.4s">
                        <div class="container">
                            <div class="row">

                                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 stats">
                                    <div class="panel panel-success">
                                        <div class="panel-body" style="cursor: pointer;" ng-click="changeview('countries.html', '5')">
                                            <span class="counting" data-count="{{totalDataset}}">{{totalDataset}}</span> datasets submitted covering <span class="counting" data-count="{{countryWithData}}">{{countryWithData}}</span> countries
                                            <!--<br /><br />-->
                                            <!--<div class="progress">
                                                <div class="progress-bar progress-bar-striped progress-orange" role="progressbar" aria-valuenow="{{progressCountryVal}}" aria-valuemin="0" aria-valuemax="190" title="countries" data-content="content here" data-placement="bottom" data-toggle="popover" data-original-title="Countries" style="width: {{progressCountryVal + '%'}}"></div>
                                            </div>
                                            <div class="pull-left"><span>0</span></div>
                                            <div class="pull-right"><span>195</span></div>-->
                                        </div>
                                    </div>

                                </div>

                            </div>

                            <div class="row stats">
                                <div class="panel panel-default">
                                    <div class="panel-body">
                                        <h3 class="title_red">Datasets distribution per category</h3>
                                        <hr class="hr_grey" />
                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                            <div id="datasetCategories"></div>
                                        </div>
                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                            <div id="opendataIndex"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row stats">
                                <div class="panel panel-default">
                                    <div class="panel-body">
                                        <h3 class="title_red">Datasets distribution per hazard </h3>
                                        <hr class="hr_grey" />
                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                            <div id="perilCategories"></div>
                                        </div>
                                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                                            <div id="perilOpendataIndex"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="container"></div>

                            <!-- end row -->
                        </div>
                        <!-- end container -->
                    </section>
                    <!-- end cont stats -->
                </div>
            </div>

            <!--<div class="row">
                <div class="container">
                    <div class="wrap">
                        <div class="expand active">
                            <h2>Disclaimer</h2>
                            <br><br>
                            <p class="">
                                The Global Facility for Disaster Reduction and Recovery (GFDRR) works closely with UN agencies, client governments, World Bank regional offices, and other partners and focuses on five pillars of action to further the Disaster Risk Management (DRM) agenda: Risk Identification, Risk Reduction, Preparedness, Financial Protection and Resilient Recovery.
                                GFDRR hosts the GFDRR Innovation Lab. The Innovation Lab strategy is to build partnerships and communities that utilize open data and open source technology to assist decision-making. Often, engagement in DRM projects across the globe is hindered by a lack of awareness of what data already exist, where to find it, and whether it is openly accessible.
                                This dashboard has the objective of providing an overview on the openness and accessibility of risk data worldwide with the aim of:
                            </p>
                            <ul>
                                <li>advocating for data openness and accessibility</li>
                                <li>highlighting gaps to direct investment in new risk information</li>
                                <li>facilitate the trading and access to risk related data.</li>
                            </ul>
                            <button  type="button" class="btn btn-custom" ng-click="changeview('about.html', '0')">More...</button>
                        </div>
                    </div>

                </div>
            </div>-->

        </section>
        <!-- Section HEADER - FINE -->

        <!-- Section PARTNER - INIZIO -->
        <!--<section id="news">
            <div class="container">
                <div class="row">
                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                        <div class="panel panel-default">
                            <div class="panel-body">

                                <div class="flex-container flex-col">

                                    <img class="img-responsive" src="img/partner/GFDRR_Primary-Logo_BW-Shade-3-e1476203323738.jpg" alt="">
                                    <a class="btn btn-custom news_title text-center btn-block" href="https://www.gfdrr.org/" target="_blank"><h5>Global Facility for Disaster Reduction and Recovery</h5> </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                <div class="flex-container flex-col">
                                    <img class="img-responsive" src="img/partner/logo-extended.svg" alt="">
                                    <a class="btn btn-custom news_title text-center btn-block" href="https://opendri.org/" target="_blank"><h5>Open Data for Resilience Initiative</h5> </a>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                        <div class="panel panel-default">
                            <div class="panel-body">

                                <div class="flex-container flex-col">

                                    <img class="img-responsive" src="img/partner/UR-full-color.png" alt="">
                                    <a class="btn btn-custom news_title text-center btn-block" href="https://understandrisk.org/" target="_blank"><h5>Understanding Risk</h5></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </section>-->
        <!-- Section NWEWS - FINE -->

    </div>

    <!-- Section FOOTER - INIZIO -->
    <rodifooter></rodifooter>
    <!-- Section FOOTER - FINE -->

    <!--start modal intro-->
    <!-- Button trigger modal -->
    <!--<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">-->
    <!--Launch demo modal-->
    <!--</button>-->


    <!-- Include all compiled plugins (below), or include individual files as needed -->

    <script>
        $('.expand').on('click',function(e){
            e.preventDefault();
            $(this).toggleClass('active');
        });
    </script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <!--wow for animate.css-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/wow/0.1.12/wow.min.js"></script>

    <script>
        // number count for stats, using jQuery animate

        $('.counting').each(function() {
            setTimeout(function(){

                var $this = $(this),
                    countTo = $this.attr('data-count');

                $({ countNum: $this.text()}).animate({
                        countNum: countTo
                    },

                    {
                        duration: 5000,
                        easing:'linear',
                        step: function() {
                            $this.text(Math.floor(this.countNum));
                        },
                        complete: function() {
                            $this.text(this.countNum);
    //                        alert('finished');
                        }

                    });
            }, 500);

        });
    </script>
    <script>
        $(function() {
            $('progress').each(function() {
                var max = $(this).val();
                $(this).val(0).animate({ value: max }, { duration: 2000, easing: 'easeOutCirc' });
            });
        });
    </script>

</body>
</html>